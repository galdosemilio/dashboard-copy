<div
  class="checkout"
  fxLayout="row"
  fxLayout.sm="column"
  fxLayout.xs="column"
  fxLayoutAlign="space-between start"
  fxLayoutAlign.sm="start stretch"
  fxLayoutAlign.xs="start stretch"
  fxLayoutGap="50px"
  fxLayoutGap.sm="25px"
  fxLayoutAlign.xs="start stretch"
>
  <div fxFlex="33%">
    <p class="checkout-title">Checkout</p>
  </div>

  <div class="checkout-table-container" fxFlex="77%" fxHide.xs fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="15px">
    <mat-horizontal-stepper fxFlex linear #stepper>
      <mat-step>
        <div class="step-container">
          <ccr-wellcore-account-info
            [accountCreated]="!!account"
            [formGroup]="accountInfo">
          </ccr-wellcore-account-info>
        </div>
      </mat-step>
      <mat-step>
        <div class="step-container">
          <ccr-wellcore-shipping-info [formGroup]="shippingInfo"></ccr-wellcore-shipping-info>
        </div>
      </mat-step>
      <mat-step>
        <div class="step-container">
          <ccr-wellcore-billing-info
          [useShippingAddress]="useShippingAddress"
          (onChangeUseShippingAddress)="onChangeUseShippingAddress($event)"
          [formGroup]="billingInfo"
          ></ccr-wellcore-billing-info>
        </div>
      </mat-step>
      <mat-step>
        <div class="step-container">
          <ccr-wellcore-order-confirm></ccr-wellcore-order-confirm>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
    <mat-error *ngIf="checkAccountInfoErrors()">
      <small>Only men ages 18 years or older are eligible to register for the WellCore program.</small>
    </mat-error>
    <mat-error *ngIf="checkBillingInfoErrors()">
      <small>Only individuals located in the following states are currently eligible to enroll in WellCore: {{ whitelistedStates.join(',') }}</small>
    </mat-error>
    <div
      [hidden]="checkAccountInfoErrors() || checkBillingInfoErrors()"
      fxLayout="row"
      fxLayoutAlign="stretch center">
        <div fxFlex fxLayout="row" fxLayoutAlign="start center">
          <button
          (click)="prevStep()"
          class="ccr-step-button"
          mat-flat-button>
            Back
          </button>
        </div>
        <div fxFlex fxLayout="row" fxLayoutAlign="end center">
          <button mat-flat-button class="ccr-step-button" (click)="nextStep()">{{ getNextStepLabel() }}</button>
        </div>
    </div>
  </div>
</div>